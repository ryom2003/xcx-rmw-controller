var img$2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAF0CAYAAAD/4EcMAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3c2RJUtyHtDGkgYdKARtthwFRhAoQDG4p0GQUWC4o41BCOqANWn9HgpTr7rudQ+PyMz4OViiMyI8jkdmfp1Vr+ef/sv/+j//74f/I0CAAAECBAgQGCbwTwLWMEsTESBAgAABAgR+ExCwHAQCBAgQIECAwGABAWswqOkIECBAgAABAgKWM0CAAAECBAgQGCwgYA0GNR0BAgQIECBAQMByBggQIECAAAECgwUErMGgpiNAgAABAgQICFjOAAECBAgQIEBgsICANRjUdAQIECBAgAABAcsZIECAAAECBAgMFhCwBoOajgABAgQIECAgYDkDBAgQIECAAIHBAgLWYFDTESBAgAABAgQELGeAAAECBAgQIDBYQMAaDGo6AgQIECBAgICA5QwQIECAAAECBAYLCFiDQU1HgAABAgQIEBCwnAECBAgQIECAwGABAWswqOkIECBAgAABAgKWM0CAAAECBAgQGCwgYA0GNR0BAgQIECBAQMByBggQIECAAAECgwUErMGgpiNAgAABAgQICFjOAAECBAgQIEBgsICANRjUdAQIECBAgAABAcsZIECAAAECBAgMFhCwBoOajgABAgQIECAgYDkDBAgQIECAAIHBAgLWYFDTESBAgAABAgQELGeAAAECBAgQIDBYQMAaDGo6AgQIECBAgICA5QwQIECAAAECBAYLCFiDQU1HgAABAgQIEBCwnAECBAgQIECAwGABAWswqOkIECBAgAABAgLWwmfg3//lTy+r/+d//XtqZ6/myI5PLfLioq9r37FmT73GEiBAgACBrICAlZV6+Lp3YepVaZnAskLAEsQePnyWJ0CAAIFmAQGrmeyaAZUAlakkClkjAlZ1jig4jZr3p1PkkLF0DQECBAgQyAoIWFmpi6+7KmBF4eLJHzO+C1g9dX03VsC6+ACbngABAgT+ICBgTXIgegPWzwBR+eLTE2R+0kV1vws2VwSsisEkR0AZBAgQILCRgIA1STOjoPK5zJbQ8jHu1ZiegJWpuaXWj2ujea/YyyTHQBkECBAgsImAgDVJI6PfR2ops+UrTjXMZL5etf54sidg9QTFFlvXEiBAgACBjICAlVG64ZpZA9arkBQFs8wXt+/2nJn3uy9Y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";

var img$1 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAvRJREFUeF7t2MFV3jAQBGA4QhFpAnIMDaQRCqAM7qSRNJDcIGkiReQKz/CUt1lW2l2NZeTfwwmw1pY/j9e2zi8eHp/P+NMtcE7AbrvXQgJifgQE/QhIQFQArGcPJCAoAJYzgQQEBcByJpCAoABYzgSOAvx7+/m/XV9+e/r397JN/r1skP/ztoNznqq8msAWSMGtoZZaOc5CnUqiczJNQLlPjbVsK//ToFZ6Dw1o3a7WBbOQaxeh84JPV+bewjJNMnHL761b1OuJ00l0TsgFLPutgVj9LvJQ6ZzvdGV8jQEvCQEJCAqA5UwgAUEBsJwJ3ApQf13ILxFwDquX6/fTkXN1E2jBzf51MQ2g9RVSXpILov7MWz1OHTucDnArJGuVp8Pv3Sfmh93Ca51QFGGt4+02ga0HTXZbSY2FobfpdlIDrC0SI+DNh0g2Ea2J1B5GclVHJ9XaZq1B1tYjWytGtQuT7e3dgK1JyweNPmErWXLFR/cr70GmkS20aGJ7emUIMHJSvaCtlW7rQljYGjlyC3vHjfZt6D3QW4GW8B5wDavWRiI9tZZG/R6bbVWy3gXUV7zVI2pNunVLe0lYE7D2DrsJYDTSRxsXTuDRYKLnS8CoVGUcAQkICoDlbgJ/froDD5Er//Ln3i3Yck7efKYDdPU2HkBAEJyAewK8/vrj3XR/fb8BT+FjyzdJoAWnT3uvkMMBI3gFc4+IQwEzeHtFPAzglei/v52+mxk7DLAnfSNSKDF039WQmbFlXwQUqgRUEWuBlKElhZmx8jAnncAMSmYsAYXAtAlc5tjzIFn7XTDT1zJjhz9ECPhGDC9nZVK4dvpkr8q822XGwg+RZZLeAmYEcSTeqOUGDy+UwDI5D7F2S+8RbjmXCF4KMJLEUUnYer9RvDTgERAzeF2Ap4yYxesGPEXEHjwIcOu+NOvx3PfAWSc+y7wICF4JAhIQFADLmUACggJgORNIQFAALGcCCQgKgOVMIAFBAbCcCSQgKACWM4Eg4AuKW+k/q7f9MAAAAABJRU5ErkJgggAA";

var en$1 = {
	"rmw-controller.entry.name": "'RMW",
	"rmw-controller.entry.description": "Description of this extension"
};
var ja$1 = {
	"rmw-controller.entry.name": "'RMW",
	"rmw-controller.entry.description": "拡張機能の説明"
};
var translations$1 = {
	en: en$1,
	ja: ja$1,
	"ja-Hira": {
	"rmw-controller.entry.name": "'RMW",
	"rmw-controller.entry.description": "かくちょうきのうのせつめい"
}
};

/**
 * This is an extension for Xcratch.
 */
/**
 * Formatter to translate the messages in this extension.
 * This will be replaced which is used in the React component.
 * @param {object} messageData - data for format-message
 * @returns {string} - translated message for the current locale
 */

var formatMessage$1 = function formatMessage(messageData) {
  return messageData.defaultMessage;
};

var entry = {
  get name() {
    return formatMessage$1({
      id: 'rmwController.entry.name',
      default: 'RMW Controller',
      description: 'name of the extension'
    });
  },

  extensionId: 'rmwController',
  extensionURL: 'https://ryom2003.github.io/xcx-rmw-controller/dist/rmwController.mjs',
  collaborator: 'ryom2003',
  iconURL: img$2,
  insetIconURL: img$1,

  get description() {
    return formatMessage$1({
      defaultMessage: 'an extension for Xcratch',
      description: 'Description for this extension',
      id: 'rmwController.entry.description'
    });
  },

  featured: true,
  disabled: false,
  bluetoothRequired: false,
  internetConnectionRequired: false,
  helpLink: 'https://ryom2003.github.io/xcx-rmw-controller/',
  setFormatMessage: function setFormatMessage(formatter) {
    formatMessage$1 = formatter;
  },
  translationMap: translations$1
};

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}

function _typeof$1(obj) {
  "@babel/helpers - typeof";

  return _typeof$1 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
    return typeof obj;
  } : function (obj) {
    return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
  }, _typeof$1(obj);
}

var regeneratorRuntime$1 = {exports: {}};

var _typeof = {exports: {}};

(function (module) {
  function _typeof(obj) {
    "@babel/helpers - typeof";

    return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {
      return typeof obj;
    } : function (obj) {
      return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(obj);
  }

  module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;
})(_typeof);

(function (module) {
  var _typeof$1 = _typeof.exports["default"];

  function _regeneratorRuntime() {
    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */

    module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
      return exports;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports;
    var exports = {},
        Op = Object.prototype,
        hasOwn = Op.hasOwnProperty,
        $Symbol = "function" == typeof Symbol ? Symbol : {},
        iteratorSymbol = $Symbol.iterator || "@@iterator",
        asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator",
        toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

    function define(obj, key, value) {
      return Object.defineProperty(obj, key, {
        value: value,
        enumerable: !0,
        configurable: !0,
        writable: !0
      }), obj[key];
    }

    try {
      define({}, "");
    } catch (err) {
      define = function define(obj, key, value) {
        return obj[key] = value;
      };
    }

    function wrap(innerFn, outerFn, self, tryLocsList) {
      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,
          generator = Object.create(protoGenerator.prototype),
          context = new Context(tryLocsList || []);
      return generator._invoke = function (innerFn, self, context) {
        var state = "suspendedStart";
        return function (method, arg) {
          if ("executing" === state) throw new Error("Generator is already running");

          if ("completed" === state) {
            if ("throw" === method) throw arg;
            return doneResult();
          }

          for (context.method = method, context.arg = arg;;) {
            var delegate = context.delegate;

            if (delegate) {
              var delegateResult = maybeInvokeDelegate(delegate, context);

              if (delegateResult) {
                if (delegateResult === ContinueSentinel) continue;
                return delegateResult;
              }
            }

            if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) {
              if ("suspendedStart" === state) throw state = "completed", context.arg;
              context.dispatchException(context.arg);
            } else "return" === context.method && context.abrupt("return", context.arg);
            state = "executing";
            var record = tryCatch(innerFn, self, context);

            if ("normal" === record.type) {
              if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue;
              return {
                value: record.arg,
                done: context.done
              };
            }

            "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg);
          }
        };
      }(innerFn, self, context), generator;
    }

    function tryCatch(fn, obj, arg) {
      try {
        return {
          type: "normal",
          arg: fn.call(obj, arg)
        };
      } catch (err) {
        return {
          type: "throw",
          arg: err
        };
      }
    }

    exports.wrap = wrap;
    var ContinueSentinel = {};

    function Generator() {}

    function GeneratorFunction() {}

    function GeneratorFunctionPrototype() {}

    var IteratorPrototype = {};
    define(IteratorPrototype, iteratorSymbol, function () {
      return this;
    });
    var getProto = Object.getPrototypeOf,
        NativeIteratorPrototype = getProto && getProto(getProto(values([])));
    NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);
    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);

    function defineIteratorMethods(prototype) {
      ["next", "throw", "return"].forEach(function (method) {
        define(prototype, method, function (arg) {
          return this._invoke(method, arg);
        });
      });
    }

    function AsyncIterator(generator, PromiseImpl) {
      function invoke(method, arg, resolve, reject) {
        var record = tryCatch(generator[method], generator, arg);

        if ("throw" !== record.type) {
          var result = record.arg,
              value = result.value;
          return value && "object" == _typeof$1(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) {
            invoke("next", value, resolve, reject);
          }, function (err) {
            invoke("throw", err, resolve, reject);
          }) : PromiseImpl.resolve(value).then(function (unwrapped) {
            result.value = unwrapped, resolve(result);
          }, function (error) {
            return invoke("throw", error, resolve, reject);
          });
        }

        reject(record.arg);
      }

      var previousPromise;

      this._invoke = function (method, arg) {
        function callInvokeWithMethodAndArg() {
          return new PromiseImpl(function (resolve, reject) {
            invoke(method, arg, resolve, reject);
          });
        }

        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      };
    }

    function maybeInvokeDelegate(delegate, context) {
      var method = delegate.iterator[context.method];

      if (undefined === method) {
        if (context.delegate = null, "throw" === context.method) {
          if (delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel;
          context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method");
        }

        return ContinueSentinel;
      }

      var record = tryCatch(method, delegate.iterator, context.arg);
      if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel;
      var info = record.arg;
      return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel);
    }

    function pushTryEntry(locs) {
      var entry = {
        tryLoc: locs[0]
      };
      1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);
    }

    function resetTryEntry(entry) {
      var record = entry.completion || {};
      record.type = "normal", delete record.arg, entry.completion = record;
    }

    function Context(tryLocsList) {
      this.tryEntries = [{
        tryLoc: "root"
      }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);
    }

    function values(iterable) {
      if (iterable) {
        var iteratorMethod = iterable[iteratorSymbol];
        if (iteratorMethod) return iteratorMethod.call(iterable);
        if ("function" == typeof iterable.next) return iterable;

        if (!isNaN(iterable.length)) {
          var i = -1,
              next = function next() {
            for (; ++i < iterable.length;) {
              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;
            }

            return next.value = undefined, next.done = !0, next;
          };

          return next.next = next;
        }
      }

      return {
        next: doneResult
      };
    }

    function doneResult() {
      return {
        value: undefined,
        done: !0
      };
    }

    return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) {
      var ctor = "function" == typeof genFun && genFun.constructor;
      return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name));
    }, exports.mark = function (genFun) {
      return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun;
    }, exports.awrap = function (arg) {
      return {
        __await: arg
      };
    }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
      return this;
    }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {
      void 0 === PromiseImpl && (PromiseImpl = Promise);
      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
      return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {
        return result.done ? result.value : iter.next();
      });
    }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () {
      return this;
    }), define(Gp, "toString", function () {
      return "[object Generator]";
    }), exports.keys = function (object) {
      var keys = [];

      for (var key in object) {
        keys.push(key);
      }

      return keys.reverse(), function next() {
        for (; keys.length;) {
          var key = keys.pop();
          if (key in object) return next.value = key, next.done = !1, next;
        }

        return next.done = !0, next;
      };
    }, exports.values = values, Context.prototype = {
      constructor: Context,
      reset: function reset(skipTempReset) {
        if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {
          "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);
        }
      },
      stop: function stop() {
        this.done = !0;
        var rootRecord = this.tryEntries[0].completion;
        if ("throw" === rootRecord.type) throw rootRecord.arg;
        return this.rval;
      },
      dispatchException: function dispatchException(exception) {
        if (this.done) throw exception;
        var context = this;

        function handle(loc, caught) {
          return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught;
        }

        for (var i = this.tryEntries.length - 1; i >= 0; --i) {
          var entry = this.tryEntries[i],
              record = entry.completion;
          if ("root" === entry.tryLoc) return handle("end");

          if (entry.tryLoc <= this.prev) {
            var hasCatch = hasOwn.call(entry, "catchLoc"),
                hasFinally = hasOwn.call(entry, "finallyLoc");

            if (hasCatch && hasFinally) {
              if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
              if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
            } else if (hasCatch) {
              if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
            } else {
              if (!hasFinally) throw new Error("try statement without catch or finally");
              if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
            }
          }
        }
      },
      abrupt: function abrupt(type, arg) {
        for (var i = this.tryEntries.length - 1; i >= 0; --i) {
          var entry = this.tryEntries[i];

          if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
            var finallyEntry = entry;
            break;
          }
        }

        finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);
        var record = finallyEntry ? finallyEntry.completion : {};
        return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);
      },
      complete: function complete(record, afterLoc) {
        if ("throw" === record.type) throw record.arg;
        return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;
      },
      finish: function finish(finallyLoc) {
        for (var i = this.tryEntries.length - 1; i >= 0; --i) {
          var entry = this.tryEntries[i];
          if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;
        }
      },
      "catch": function _catch(tryLoc) {
        for (var i = this.tryEntries.length - 1; i >= 0; --i) {
          var entry = this.tryEntries[i];

          if (entry.tryLoc === tryLoc) {
            var record = entry.completion;

            if ("throw" === record.type) {
              var thrown = record.arg;
              resetTryEntry(entry);
            }

            return thrown;
          }
        }

        throw new Error("illegal catch attempt");
      },
      delegateYield: function delegateYield(iterable, resultName, nextLoc) {
        return this.delegate = {
          iterator: values(iterable),
          resultName: resultName,
          nextLoc: nextLoc
        }, "next" === this.method && (this.arg = undefined), ContinueSentinel;
      }
    }, exports;
  }

  module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;
})(regeneratorRuntime$1);

var runtime = regeneratorRuntime$1.exports();
var regenerator = runtime; // Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  if ((typeof globalThis === "undefined" ? "undefined" : _typeof$1(globalThis)) === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}

/**
 * Types of block
 * @enum {string}
 */
var BlockType = {
  /**
   * Boolean reporter with hexagonal shape
   */
  BOOLEAN: 'Boolean',

  /**
   * A button (not an actual block) for some special action, like making a variable
   */
  BUTTON: 'button',

  /**
   * Command block
   */
  COMMAND: 'command',

  /**
   * Specialized command block which may or may not run a child branch
   * The thread continues with the next block whether or not a child branch ran.
   */
  CONDITIONAL: 'conditional',

  /**
   * Specialized hat block with no implementation function
   * This stack only runs if the corresponding event is emitted by other code.
   */
  EVENT: 'event',

  /**
   * Hat block which conditionally starts a block stack
   */
  HAT: 'hat',

  /**
   * Specialized command block which may or may not run a child branch
   * If a child branch runs, the thread evaluates the loop block again.
   */
  LOOP: 'loop',

  /**
   * General reporter with numeric or string value
   */
  REPORTER: 'reporter'
};
var blockType = BlockType;

/**
 * Block argument types
 * @enum {string}
 */
var ArgumentType = {
  /**
   * Numeric value with angle picker
   */
  ANGLE: 'angle',

  /**
   * Boolean value with hexagonal placeholder
   */
  BOOLEAN: 'Boolean',

  /**
   * Numeric value with color picker
   */
  COLOR: 'color',

  /**
   * Numeric value with text field
   */
  NUMBER: 'number',

  /**
   * String value with text field
   */
  STRING: 'string',

  /**
   * String value with matrix field
   */
  MATRIX: 'matrix',

  /**
   * MIDI note number with note picker (piano) field
   */
  NOTE: 'note',

  /**
   * Inline image on block (as part of the label)
   */
  IMAGE: 'image'
};
var argumentType = ArgumentType;

var en = {
	"rmw-controller.name": "RMW Controller",
	"rmw-controller.axis": "axis [AXIS]",
	"rmw-controller.button": "button [SLOT]"
};
var ja = {
	"rmw-controller.name": "RMWコントローラ",
	"rmw-controller.axis": "レバーの [AXIS] 軸",
	"rmw-controller.button": "[SLOT] ボタン"
};
var translations = {
	en: en,
	ja: ja,
	"ja-Hira": {
	"rmw-controller.name": "RMWこんとろーら",
	"rmw-controller.axis": "ればーの [AXIS] じく",
	"rmw-controller.button": "[SLOT] ぼたん"
}
};

var img = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAW5JREFUWEftlssNwjAMhssRhmAJ4AgLsAgDMAZ3WIQF4MZjCYbgCkolI9f4UZMmJVK5lKZJ/Pn/Xaej8f7yqv74NxoAI90pS8HnZlHnOzlc62u4h//4HsbpNVIsdnlDQS4wAGP4XgE5BTmlcqgXWEwFOYs5u1PY+wWYKkjMvmW9xWAdZIztjVEB1v5St2wN0g0tONqOpPmdA+JAGIK2HKy41oKkboBbWXANx1IVlKyxIKSA0jo8jtuc2Ga8YFRdehJpYNrJxbYZsI9mwkFoDZyr47YW49Iqr81Yb2zu5+UoeJ5uc4ujxls+dvXzj4IDoNMfl4Lz9amx/e24cobzT28FSMFomJSg5QNa6oGaqVQ0FewKcIbq945qVxqHxLMAYggIHCClcVzj5QOGbCybrfpLqmAXgGGPzmowbCYdd7kbNdQf+8Ha95mM4VhATUn/geVbQeFEwD4gOTgV0Jd7utnlfFGn0yBu50HBOP2q6g0mDsigojO9hAAAAABJRU5ErkJgggAA";

/**
 * Formatter which is used for translation.
 * This will be replaced which is used in the runtime.
 * @param {object} messageData - format-message object
 * @returns {string} - message for the locale
 */

var formatMessage = function formatMessage(messageData) {
  return messageData.defaultMessage;
};
/**
 * Setup format-message for this extension.
 */


var setupTranslations = function setupTranslations() {
  var localeSetup = formatMessage.setup();

  if (localeSetup && localeSetup.translations[localeSetup.locale]) {
    Object.assign(localeSetup.translations[localeSetup.locale], translations[localeSetup.locale]);
  }
};

var EXTENSION_ID = 'rmwController'; //const { SerialPort } = require('serialport');
//const { ReadlineParser } = require('@serialport/parser-readline');
//const bindings = require('@serialport/bindings');
//let controllers = new Array();

/**
 * URL to get this extension as a module.
 * When it was loaded as a module, 'extensionURL' will be replaced a URL which is retrieved from.
 * @type {string}
 */

var extensionURL = 'https://ryom2003.github.io/xcx-rmw-controller/dist/rmwController.mjs';
/**
 * Scratch 3.0 blocks for example of Xcratch.
 */

var ExtensionBlocks = /*#__PURE__*/function () {
  /**
   * Construct a set of blocks for 'RMW.
   * @param {Runtime} runtime - the Scratch 3.0 runtime.
   */
  function ExtensionBlocks(runtime) {
    var _this = this;

    _classCallCheck(this, ExtensionBlocks);

    /**
     * The Scratch 3.0 runtime.
     * @type {Runtime}
     */
    this.runtime = runtime;

    if (runtime.formatMessage) {
      // Replace 'formatMessage' to a formatter which is used in the runtime.
      formatMessage = runtime.formatMessage;
    }

    this.port = null;
    this.reader = null;
    this.writer = null;
    this.controller = null; //const autoConnect = setInterval(this.connect, 3000);

    this.runtime.on('PROJECT_LOADED', function () {
      console.log('PROJECT_LOADED');
    });
    this.runtime.on('PROJECT_CHANGED', function () {
      console.log('PROJECT_CHANGED');
    });
    this.runtime.on('PROJECT_START', function () {
      console.log('PROJECT_START');

      _this.connect();
    });
    this.runtime.on('PROJECT_STOP_ALL', function () {
      console.log('PROJECT_STOP_ALL');

      _this.close();
    });
  }

  _createClass(ExtensionBlocks, [{
    key: "close",
    value: function () {
      var _close = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee() {
        return regenerator.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (this.controller) {
                  this.controller.stop();
                }

                if (!this.port) {
                  _context.next = 16;
                  break;
                }

                _context.prev = 2;
                _context.next = 5;
                return this.reader.cancel();

              case 5:
                _context.next = 7;
                return this.reader.releaseLock();

              case 7:
                _context.next = 9;
                return this.writer.releaseLock();

              case 9:
                _context.next = 11;
                return this.port.close();

              case 11:
                _context.next = 16;
                break;

              case 13:
                _context.prev = 13;
                _context.t0 = _context["catch"](2);
                console.log(_context.t0);

              case 16:
                this.port = null;
                this.controller = null;

              case 18:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 13]]);
      }));

      function close() {
        return _close.apply(this, arguments);
      }

      return close;
    }()
  }, {
    key: "connect",
    value: function () {
      var _connect = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee2() {
        return regenerator.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                console.log('Connecting to controller...');

                if (!(this.port == null)) {
                  _context2.next = 23;
                  break;
                }

                _context2.prev = 2;
                _context2.next = 5;
                return navigator.serial.requestPort();

              case 5:
                this.port = _context2.sent;
                _context2.next = 8;
                return this.port.open({
                  baudRate: 38400
                });

              case 8:
                this.reader = this.port.readable.getReader();
                this.writer = this.port.writable.getWriter();
                this.controller = new RmwController(this.reader, this.writer);
                _context2.next = 13;
                return this.controller.connect();

              case 13:
                this.controller.start();
                console.log('controller started.');
                _context2.next = 23;
                break;

              case 17:
                _context2.prev = 17;
                _context2.t0 = _context2["catch"](2);
                console.log(_context2.t0);
                console.log("failed to connect.");
                _context2.next = 23;
                return this.close();

              case 23:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[2, 17]]);
      }));

      function connect() {
        return _connect.apply(this, arguments);
      }

      return connect;
    }()
  }, {
    key: "axis",
    value: function () {
      var _axis = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee3(args) {
        return regenerator.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                if (this.controller) {
                  _context3.next = 2;
                  break;
                }

                return _context3.abrupt("return", 0);

              case 2:
                return _context3.abrupt("return", this.controller.axis(args.AXIS));

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function axis(_x) {
        return _axis.apply(this, arguments);
      }

      return axis;
    }()
  }, {
    key: "button",
    value: function () {
      var _button = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee4(args) {
        return regenerator.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (this.controller) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return", false);

              case 2:
                return _context4.abrupt("return", this.controller.button(args.SLOT));

              case 3:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function button(_x2) {
        return _button.apply(this, arguments);
      }

      return button;
    }()
  }, {
    key: "pushed",
    value: function () {
      var _pushed = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee5(args) {
        return regenerator.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (this.controller) {
                  _context5.next = 2;
                  break;
                }

                return _context5.abrupt("return", false);

              case 2:
                return _context5.abrupt("return", this.controller.pushed(args.SLOT));

              case 3:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function pushed(_x3) {
        return _pushed.apply(this, arguments);
      }

      return pushed;
    }()
    /**
     * @returns {object} metadata for this extension and its blocks.
     */

  }, {
    key: "getInfo",
    value: function getInfo() {
      setupTranslations();
      return {
        id: ExtensionBlocks.EXTENSION_ID,
        name: ExtensionBlocks.EXTENSION_NAME,
        extensionURL: ExtensionBlocks.extensionURL,
        blockIconURI: img,
        showStatusButton: false,
        blocks: [{
          opcode: 'axis',
          blockType: blockType.REPORTER,
          blockAllThreads: false,
          text: formatMessage({
            id: 'rmw-controller.axis',
            default: 'axis [AXIS]',
            description: 'value of axis [AXIS]'
          }),
          func: 'axis',
          arguments: {
            AXIS: {
              type: argumentType.STRING,
              defaultValue: "X",
              menu: "axisNameMenu"
            }
          }
        }, {
          opcode: 'button',
          blockType: blockType.BOOLEAN,
          text: formatMessage({
            id: 'rmw-controller.button',
            default: 'button [SLOT]',
            description: 'button [SLOT] is pushed'
          }),
          func: 'button',
          arguments: {
            SLOT: {
              type: argumentType.STRING,
              defaultValue: "A",
              menu: "buttonNameMenu"
            }
          }
        }
        /*{
            opcode: 'pushed',
            blockType: BlockType.HAT,
            text: formatMessage({
                id: 'rmwController.pushed',
                default: 'when [SLOT] is pushed',
                description: 'when button [SLOT] is pushed'
            }),
            func: 'pushed',
            arguments: {
                SLOT: {
                    type: ArgumentType.STRING,
                    defaultValue: "A",
                    menu: "buttonNameMenu"
                }
            },
            //isEdgeActivated: true
        }*/
        ],
        menus: {
          axisNameMenu: {
            acceptReporters: false,
            items: ['X', 'Y']
          },
          buttonNameMenu: {
            acceptReporters: false,
            items: ['A', 'B', 'C']
          }
        }
      };
    }
  }], [{
    key: "EXTENSION_NAME",
    get:
    /**
     * @return {string} - the name of this extension.
     */
    function get() {
      return formatMessage({
        id: 'rmwController.name',
        default: 'RMW Controller',
        description: 'name of the extension'
      });
    }
    /**
     * @return {string} - the ID of this extension.
     */

  }, {
    key: "EXTENSION_ID",
    get: function get() {
      return EXTENSION_ID;
    }
    /**
     * URL to get this extension.
     * @type {string}
     */

  }, {
    key: "extensionURL",
    get: function get() {
      return extensionURL;
    }
    /**
     * Set URL to get this extension.
     * The extensionURL will be changed to the URL of the loading server.
     * @param {string} url - URL
     */
    ,
    set: function set(url) {
      extensionURL = url;
    }
  }]);

  return ExtensionBlocks;
}();

var RmwController = /*#__PURE__*/function () {
  function RmwController(reader, writer) {
    _classCallCheck(this, RmwController);

    this._interval = null;
    this._reading = false;
    this._reader = reader;
    this._writer = writer;
    this._decoder = new TextDecoder('ascii'); //this.line = '';

    this._axisValues = new Map([["X", 0], ["Y", 0]]);
    this._buttons = new Map();

    this._buttons.set("A", new Button());

    this._buttons.set("B", new Button());

    this._buttons.set("C", new Button());
  }

  _createClass(RmwController, [{
    key: "connect",
    value: function () {
      var _connect2 = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee6() {
        var result;
        return regenerator.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this._command('0');

              case 2:
                result = _context6.sent;

                if (!(result == 'RMWC001')) {
                  _context6.next = 7;
                  break;
                }

                console.log('controller connected.');
                _context6.next = 8;
                break;

              case 7:
                throw 'not compatible.';

              case 8:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function connect() {
        return _connect2.apply(this, arguments);
      }

      return connect;
    }()
  }, {
    key: "start",
    value: function start() {
      if (this._reader && !this._interval) {
        this._interval = setInterval(this._read.bind(this), 50);
      }
    }
  }, {
    key: "stop",
    value: function stop() {
      if (this._reader && this._interval) {
        clearInterval(this._interval);
        this._interval = null;
      }
    }
  }, {
    key: "_read",
    value: function () {
      var _read2 = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee7() {
        var line, values;
        return regenerator.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                if (!this._reading) {
                  _context7.next = 3;
                  break;
                }

                console.log("*");
                return _context7.abrupt("return");

              case 3:
                this._reading = true;
                _context7.next = 6;
                return this._command('A');

              case 6:
                line = _context7.sent;
                values = line.split('|');

                this._buttons.get("A").update(Boolean(Number(values[0])));

                this._buttons.get("B").update(Boolean(Number(values[1])));

                this._buttons.get("C").update(Boolean(Number(values[2])));

                this._axisValues.set("X", Number(values[3]));

                this._axisValues.set("Y", Number(values[4]));

                this._reading = false;

              case 14:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function _read() {
        return _read2.apply(this, arguments);
      }

      return _read;
    }()
  }, {
    key: "_command",
    value: function () {
      var _command2 = _asyncToGenerator( /*#__PURE__*/regenerator.mark(function _callee8(c) {
        var response, line, writer, reader, decoder, data, readChunk;
        return regenerator.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                readChunk = function _readChunk(_ref) {
                  var done = _ref.done,
                      value = _ref.value;
                  return new Promise(function (resolve, reject) {
                    if (done) {
                      reject('stream done.');
                    } else {
                      line += decoder.decode(value); //console.log("[" + line + "]");

                      var pos = line.indexOf("\r\n");

                      if (pos >= 0) {
                        response = line.substring(0, pos);
                        resolve();
                      } else {
                        reader.read().then(readChunk).then(resolve);
                      }
                    }
                  });
                };

                //console.log("Command: " + c);
                response = '?';
                line = ''; //this.line;

                writer = this._writer;
                reader = this._reader;
                decoder = this._decoder; // Send command

                data = new Uint8Array([c.charCodeAt(0)]);
                _context8.next = 9;
                return writer.write(data);

              case 9:

                _context8.next = 12;
                return reader.read().then(readChunk);

              case 12:
                return _context8.abrupt("return", response);

              case 13:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function _command(_x4) {
        return _command2.apply(this, arguments);
      }

      return _command;
    }()
  }, {
    key: "axis",
    value: function axis(axisName) {
      if (!this._axisValues.has(axisName)) return 0;
      return this._axisValues.get(axisName);
    }
  }, {
    key: "button",
    value: function button(buttonName) {
      if (!this._buttons.has(buttonName)) return false;
      return this._buttons.get(buttonName).pushed();
    }
  }, {
    key: "pushed",
    value: function pushed(buttonName) {
      if (!this._buttons.has(buttonName)) return false;
      return this._buttons.get(buttonName).on_push();
    }
  }]);

  return RmwController;
}();

var Button = /*#__PURE__*/function () {
  function Button() {
    _classCallCheck(this, Button);

    this._interval = 5;
    this._count = 0;
    this._pushed = false;
    this._push_recorded = false;
  }

  _createClass(Button, [{
    key: "update",
    value: function update(pushed) {
      if (this._count == 0) {
        if (pushed) {
          this._count = this._interval;
          this._pushed = true;
          this._push_recorded = true; //console.log("push!");
        } else {
          this._pushed = false;
        }
      } else {
        if (!pushed) {
          this._pushed = false;
        }

        this._count--;
      }
    }
  }, {
    key: "pushed",
    value: function pushed() {
      return this._pushed;
    }
  }, {
    key: "on_push",
    value: function on_push() {
      if (this._push_recorded) {
        this._push_recorded = false;
        console.log("on push");
        return true;
      } else {
        return false;
      }
    }
  }]);

  return Button;
}();

export { ExtensionBlocks as blockClass, entry };
